[{"title":"程序分析工具ldd","date":"2018-08-25T05:14:01.000Z","path":"2018/08/25/程序分析工具ldd/","content":"<hr>\n<h1 id=\"Linux-下的程序分析工具\"><a href=\"#Linux-下的程序分析工具\" class=\"headerlink\" title=\"Linux 下的程序分析工具\"></a>Linux 下的程序分析工具</h1><p>我们要分析程序, 必不可少的要使用程序分析工具, ldd就是一个有效的程序分析工具.</p>\n<h2 id=\"1-何为ldd\"><a href=\"#1-何为ldd\" class=\"headerlink\" title=\"1. 何为ldd\"></a>1. 何为ldd</h2><blockquote>\n<p>ldd (List Dynamic Dependencies) 可以知道, ldd工具的功能就是列出程序的动态依赖项, 以便于我们来解决程序因为某个依赖项不能运行的问题</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//ldd工具的参数表</span><br><span class=\"line\"></span><br><span class=\"line\">Usage: ldd [OPTION]... FILE...</span><br><span class=\"line\">      --help              print this help and exit</span><br><span class=\"line\">      --version           print version information and exit</span><br><span class=\"line\">  -d, --data-relocs       process data relocations          </span><br><span class=\"line\">  -r, --function-relocs   process data and function relocations</span><br><span class=\"line\">  -u, --unused            print unused direct dependencies</span><br><span class=\"line\">  -v, --verbose           print all information</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"2-程序分析\"><a href=\"#2-程序分析\" class=\"headerlink\" title=\"2. 程序分析\"></a>2. 程序分析</h2><p>以下面程序为例<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;iostream&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">using namespace std;</span><br><span class=\"line\"></span><br><span class=\"line\">int main()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    cout &lt;&lt; &quot;hello world&quot; &lt;&lt; endl;</span><br><span class=\"line\">    return 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>进行程序分析, 使用ldd工具查看依赖项<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ldd main.out</span><br></pre></td></tr></table></figure></p>\n<p>输出下面的结果:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">linux-vdso.so.1 =&gt;  (0x00007fffdf366000)</span><br><span class=\"line\">libstdc++.so.6 =&gt; /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f2c2eeb0000)</span><br><span class=\"line\">libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f2c2eae0000)</span><br><span class=\"line\">libm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007f2c2e7d0000)</span><br><span class=\"line\">/lib64/ld-linux-x86-64.so.2 (0x00007f2c2f400000)</span><br><span class=\"line\">libgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f2c2e5a0000)</span><br></pre></td></tr></table></figure></p>\n<p>把它转化一下:</p>\n<table>\n<thead>\n<tr>\n<th>程序依赖库</th>\n<th>系统提供对应的库</th>\n<th>库加载起始地址</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>linux-vdso.so.1</td>\n<td></td>\n<td>(0x00007fffdf366000)</td>\n</tr>\n<tr>\n<td>libstdc++.so.6</td>\n<td>/usr/lib/x86_64-linux-gnu/libstdc++.so.6</td>\n<td>(0x00007f2c2eeb0000)</td>\n</tr>\n<tr>\n<td>libc.so.6</td>\n<td>/lib/x86_64-linux-gnu/libc.so.6</td>\n<td>(0x00007f2c2eae0000)</td>\n</tr>\n<tr>\n<td>libm.so.6</td>\n<td>/lib/x86_64-linux-gnu/libm.so.6</td>\n<td>(0x00007f2c2e7d0000)</td>\n</tr>\n<tr>\n<td></td>\n<td>/lib64/ld-linux-x86-64.so.2</td>\n<td>(0x00007f2c2f400000)</td>\n</tr>\n<tr>\n<td>libgcc_s.so.1</td>\n<td>/lib/x86_64-linux-gnu/libgcc_s.so.1</td>\n<td>(0x00007f2c2e5a0000)</td>\n</tr>\n</tbody>\n</table>\n<p>根据程序依赖库和系统提供对应库, 可以判断是否相匹配. 如果某个库的依赖项无法找到可以通过这个命令来进行查找</p>\n<hr>\n<h1 id=\"参考文献\"><a href=\"#参考文献\" class=\"headerlink\" title=\"参考文献\"></a>参考文献</h1><p>[1.] <a href=\"https://blog.csdn.net/statdm/article/details/7759100\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/statdm/article/details/7759100</a><br>[2.] <a href=\"https://en.wikipedia.org/wiki/Ldd_(Unix)\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/Ldd_(Unix)</a></p>\n","comments":true,"excerpt":"","categories":[{"name":"程序分析工具","slug":"程序分析工具","permalink":"https://YancyKahn.GitHub.io/categories/程序分析工具/"}],"tags":[{"name":"程序分析工具","slug":"程序分析工具","permalink":"https://YancyKahn.GitHub.io/tags/程序分析工具/"},{"name":"ldd","slug":"ldd","permalink":"https://YancyKahn.GitHub.io/tags/ldd/"}]},{"title":"编译链接过程","date":"2018-08-24T11:42:30.000Z","path":"2018/08/24/编译链接过程/","content":"<h1 id=\"编译链接过程\"><a href=\"#编译链接过程\" class=\"headerlink\" title=\"编译链接过程\"></a>编译链接过程</h1><p>C/C++程序从文本到可执行文件之间是一个复杂的过程. 对于源代码(.c/.cpp)文件我们是不能直接运行的, 必须经过一系列的处理才能转化为机器语言, 再通过链接相应的文件转化为可执行程序. 这个过程称为编译链接过程.    <font color=\"pink\">本文篇幅较长, 想直接看分析过程点击<a href=\"#fxgc\">这里</a></font><br>下面是从源代码到可执行文件的整个编译链接的过程:</p>\n<p>整个编译链接过程无非就分为 <a href=\"#by\"><strong>编译过程</strong></a> 和 <a href=\"#lj\"><strong>链接过程</strong></a></p>\n<center><br><img src=\"/assert/compiler-linker/1.png\"><br></center>\n\n<p><span id=\"by\"></span></p>\n<h2 id=\"1-编译过程\"><a href=\"#1-编译过程\" class=\"headerlink\" title=\"1. 编译过程\"></a>1. 编译过程</h2><p>C文件编译过程又可分为: <strong>编译</strong> 和 <strong>汇编</strong></p>\n<h3 id=\"1-1-编译\"><a href=\"#1-1-编译\" class=\"headerlink\" title=\"1.1 编译\"></a>1.1 编译</h3><blockquote>\n<p>编译是指编译器读取源程序(字符流), 对之进行词法和语法的分析, 将高级语言指令转换为功能等效的汇编代码.</p>\n</blockquote>\n<p><font size=\"3\" color=\"green\"></font></p>\n<blockquote>\n<p>简而言之就是将 高级语言(我们这里指C源文件) 代码 转化为 汇编代码<br><br>高级语言指令转化为汇编代码有需要两个过程:<br><span id=\"ycl\"></span></p>\n<p></p><h5> <font color=\"0xacac\">1.1.1 预处理</font></h5><br>预处理过程通过<a href=\"https://zh.wikipedia.org/wiki/%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8\" target=\"_blank\" rel=\"noopener\">预处理器</a>来完成, 预处理器是程序中处理输入数据，产生能用来输入到其他程序的数据的程序。输出被称为输入数据预处理过的形式，常用在之后的程序比如编译器中.<p></p>\n</blockquote>\n<blockquote>\n<p>本文只讨论C预处理器, C预处理器是C语言、C++语言的预处理器。用于在编译器处理程序之前预扫描源代码，完成 <strong>头文件的包含</strong>, <strong>宏扩展</strong>, <strong>条件编译</strong>, <strong>行控制(line control)</strong> 等操作。</p>\n</blockquote>\n<blockquote>\n<p>对于C/C++语言预处理一般分为以下几个过程:</p>\n</blockquote>\n<blockquote>\n<p></p><h5> 1.1.1.1 包含文件 </h5><br>所谓包含文件即为头文件 <strong>#include</strong> 到的文件, 在预处理的过程中会将其加入到预处理器的输出文件中, 以供编译程序处理.<p></p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;stdio.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">int main(void)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    printf(&quot;Hello, world!\\n&quot;);</span><br><span class=\"line\">    return 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<h5> 1.1.1.2 条件编译 </h5>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if-else指令包括#if, #ifdef, #ifndef, #else, #elif and #endif .</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>这些指令可以指定不同的宏来决定那些代码执行, 那些不执行. 在预处理的过程中就会将那些不执行的程序进行过滤, 预处理器只输出执行的代码到编译程序中.</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#if VERBOSE &gt;= 2</span><br><span class=\"line\">  print(&quot;trace message&quot;);</span><br><span class=\"line\">#endif</span><br><span class=\"line\"></span><br><span class=\"line\">#ifdef __unix__ /* __unix__ is usually defined by compilers targeting Unix systems */</span><br><span class=\"line\"># include &lt;unistd.h&gt;</span><br><span class=\"line\">#elif defined _WIN32 /* _WIN32 is usually defined by compilers targeting 32 or 64 bit Windows systems */</span><br><span class=\"line\"># include &lt;windows.h&gt;</span><br><span class=\"line\">#endif</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p></p><h5> 1.1.1.3 宏定义与扩展 </h5><br>对于已经定义的宏在进行预处理的过程中直接用已经定义好的宏进行替换, 若定义了 <strong>#undef</strong> 以后出现的这种宏都不会替换.<p></p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#define &lt;identifier&gt; &lt;replacement token list&gt;                    // object-like macro</span><br><span class=\"line\">#define &lt;identifier&gt;(&lt;parameter list&gt;) &lt;replacement token list&gt;  // function-like macro, note parameters</span><br><span class=\"line\">#undef &lt;identifier&gt;                                              // delete the macro</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p></p><h5> 1.1.1.4 特殊的宏与指令 </h5><br>对于某些特殊的宏在进行预处理的时候直接进行替换, 比如 C/C++语言定义了标准宏 <strong>__</strong>LINE__, <strong>__</strong>FILE__ 直接替换为当前行号和文件<p></p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#define WHERESTR  &quot;[file %s, line %d]: &quot;</span><br><span class=\"line\">#define WHEREARG  __FILE__, __LINE__</span><br><span class=\"line\">#define DEBUGPRINT2(...)       fprintf(stderr, __VA_ARGS__)</span><br><span class=\"line\">#define DEBUGPRINT(_fmt, ...)  DEBUGPRINT2(WHERESTR _fmt, WHEREARG, __VA_ARGS__)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p></p><h5> 1.1.1.5 Token连接 </h5><br>Token即为符号, 可以理解为变量名<br>使用 <strong>##</strong> 运算符(Token Pasting Operator) 可以将两个Token连接成一个Token.<br><strong>##</strong> 运算符左侧或右侧如果是另一个宏名，这个宏名将不会被宏展开，而是按照字面值被当作一个token。因此，如果需要 <strong>##</strong> 运算符左右的宏名做宏展开，需要使用两层宏的嵌套使用，其中外层的宏展开时也一并把##运算符左右的宏名做宏展开。<p></p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#define DECLARE_STRUCT_TYPE(name) typedef struct name##_s name##_t</span><br><span class=\"line\"></span><br><span class=\"line\">DECLARE_STRUCT_TYPE(g_object); // Outputs: typedef struct g_object_s g_object_t;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<h5> 1.1.1.6 用户定义的编译错误与警告 </h5>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#error &quot;error message&quot;</span><br><span class=\"line\">#warning &quot;warning message&quot;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<h5> 1.1.1.7 编译器相关的预处理特性 </h5>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#paragm //提供了编译器特定的预处理功能</span><br><span class=\"line\"></span><br><span class=\"line\">//openmp</span><br><span class=\"line\">#pragma omp parallel for</span><br></pre></td></tr></table></figure>\n<p><br></p>\n<blockquote>\n<p></p><h5> <font color=\"0xacac\">1.1.2 编译和优化 </font></h5><br>这个过程即为通过词法分析和语法分析，在确认所有的指令都符合语法规则之后，将其翻译成等价的中间代码表示或汇编代码.<br>这里进行汇编的过程是通过编译器进行执行的, 在编译器(Compiler)的作用下经过预处理器输入的程序就编译成了汇编代码.<p></p>\n</blockquote>\n<hr>\n<h3 id=\"1-2-汇编\"><a href=\"#1-2-汇编\" class=\"headerlink\" title=\"1.2 汇编\"></a>1.2 汇编</h3><blockquote>\n<p>汇编的过程实际上就是将汇编代码翻译成目标机器语言的过程. 生成的目标文件也就是与源程序在逻辑上等效的机器语言代码.<br>生成的机器语言代码被称为<a href=\"https://zh.wikipedia.org/wiki/%E7%9B%AE%E6%A0%87%E4%BB%A3%E7%A0%81\" target=\"_blank\" rel=\"noopener\">目标代码</a>, 生成的二进制文件被称为目标文件, 也成为二进制文件.<br>典型的生成的目标文件的数据类型为:</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">符号起始区块（BSS Block Started by Symbol的缩写）</span><br><span class=\"line\">正文段（text segment 或译作代码段）//主要存放程序的指令, 可读可执行不可写</span><br><span class=\"line\">数据段（data segment）//主要存放全局变量和静态数据. 可读可写可执行</span><br></pre></td></tr></table></figure>\n<hr>\n<p><span id=\"lj\"></span></p>\n<h2 id=\"2-链接过程\"><a href=\"#2-链接过程\" class=\"headerlink\" title=\"2. 链接过程\"></a>2. 链接过程</h2><blockquote>\n<p>链接过程是由<a href=\"https://zh.wikipedia.org/wiki/%E9%93%BE%E6%8E%A5%E5%99%A8\" target=\"_blank\" rel=\"noopener\">链接器</a>进行操作的. 链接器（英语：Linker），又译为链接器、连结器，是一个程序，将一个或多个由编译器或汇编器生成的目标文件外加库链接为一个可执行文件。<br>在编译过程中已经得到了可执行文件, 在这里主要讨论外加库链接. 现在的大多数操作系统都提供<a href=\"https://zh.wikipedia.org/zh-cn/%E9%9D%99%E6%80%81%E5%BA%93\" target=\"_blank\" rel=\"noopener\">静态链接</a>和<a href=\"https://zh.wikipedia.org/wiki/%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93\" target=\"_blank\" rel=\"noopener\">动态链接</a>这两种链接方式</p>\n</blockquote>\n<blockquote>\n<p>以下是连接过程:</p>\n</blockquote>\n<center><br><img src=\"/assert/compiler-linker/300px-Linker.png\"><br></center>\n\n<blockquote>\n<h3 id=\"2-1-链接\"><a href=\"#2-1-链接\" class=\"headerlink\" title=\"2.1 链接\"></a>2.1 链接</h3><p></p><h5> <font color=\"0xacac\">2.1.1 静态链接(编译时) </font></h5><br>链接器将函数的代码从其所在地（目标文件或静态链接库中）拷贝到最终的可执行程序中。这样该程序在被执行时这些代码将被装入到该进程的虚拟地址空间中。静态链接库实际上是一个目标文件的集合，其中的每个文件含有库中的一个或者一组相关函数的代码。<br>优点: 只需保证在开发者的计算机有正确的库文件，在以二进制发布时不需考虑在用户的计算机上库文件是否存在及版本问题.<br>缺点: 生成的可执行文件体积较大。当初正是为了避免此问题，才开发了动态库技术。<p></p>\n</blockquote>\n<blockquote>\n<p></p><h5> <font color=\"0xacac\">2.1.1 动态链接 (加载, 运行时)</font></h5><br>所谓动态链接，就是把一些经常会共用的代码（静态链接的OBJ程序库）制作成DLL档，当可执行文件调用到DLL档内的函数时，操作系统才会把DLL档加载存储器内，DLL档本身的结构就是可执行档，当程序有需求时函数才进行链接。透过动态链接方式，存储器浪费的情形将可大幅降低。静态链接库则是直接链接到可执行文件。<br>DLL档本身也是可执行文件, 在程序执行的时候直接进行动态调用即可.<p></p>\n</blockquote>\n<blockquote>\n<h5> <font color=\"0xacac\">2.1.3 静态链接和动态链接的比较 </font></h5>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>静态链接</th>\n<th>动态链接</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>编译时</td>\n<td>加载, 运行时</td>\n</tr>\n<tr>\n<td>lib在编译时就组装进exe文件</td>\n<td>程序运行时exe文件可以动态的加载dll</td>\n</tr>\n<tr>\n<td>不用考虑计算机库文件版本</td>\n<td>节省内存, 维护性高</td>\n</tr>\n<tr>\n<td>整个软件包只有exe文件</td>\n<td>软件包中有exe和dll</td>\n</tr>\n<tr>\n<td>lib文件是外部函数和变量, 在编译时复制进目标程序, 后缀为.a</td>\n<td>dll文件本身是可执行的, 在运行时动态链接, 可以包含源码, 数据, 资源的多种组合, 后缀为.so</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<blockquote>\n<p>经过链接器的作用形成可执行文件, 最后还要进行一步操作, 进行打包. 即将生成的可执行文件(.exe, .dll, .lib)文件进行打包. 交付给计算机即可运行.</p>\n</blockquote>\n<hr>\n<p><span id=\"fxgc\"></span></p>\n<h2 id=\"3-编译链接过程分析\"><a href=\"#3-编译链接过程分析\" class=\"headerlink\" title=\"3. 编译链接过程分析\"></a>3. 编译链接过程分析</h2><p>我们创建三个文件分别为<a href=\"\\assert\\compiler-linker\\code\\test.h\">test.h</a>, <a href=\"\\assert\\compiler-linker\\code\\test.c\">test.c</a>和<a href=\"\\assert\\compiler-linker\\code\\main.c\">main.c</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//test.c文件</span><br><span class=\"line\">#include &lt;stdio.h&gt;</span><br><span class=\"line\">#define __PI__ 3.141592654</span><br><span class=\"line\">void print_hello()&#123;</span><br><span class=\"line\">    printf(&quot;hello world!\\n&quot;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">void print_string(char *s)&#123;</span><br><span class=\"line\">    printf(&quot;%s\\n&quot;, s);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">double getArea(int r)&#123;</span><br><span class=\"line\">    return r*r*__PI__;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">//-------------------------------------------------</span><br><span class=\"line\">//test.h文件</span><br><span class=\"line\">//test.h</span><br><span class=\"line\">void print_hello();</span><br><span class=\"line\">void print_string(char *s);</span><br><span class=\"line\">double getArea(int r);</span><br><span class=\"line\"></span><br><span class=\"line\">//-------------------------------------------------</span><br><span class=\"line\">//main.c文件</span><br><span class=\"line\">#include &quot;test.h&quot;</span><br><span class=\"line\">#define __HELLO__ print_hello();</span><br><span class=\"line\">#define __TEMP__ print_string(&quot;hello c!&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">int main()&#123;</span><br><span class=\"line\">    //test.h --&gt; hello</span><br><span class=\"line\">    print_hello();</span><br><span class=\"line\">    //__HELLO__</span><br><span class=\"line\">    __HELLO__</span><br><span class=\"line\">    //__TEMP__</span><br><span class=\"line\">    __TEMP__</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<h3 id=\"3-1-预处理操作\"><a href=\"#3-1-预处理操作\" class=\"headerlink\" title=\"3.1 预处理操作\"></a>3.1 预处理操作</h3></blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gcc -E main.c | tee main.i</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>预处理代码 <a href=\"\\assert\\compiler-linker\\code\\main.i\">main.i</a></p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 1 &quot;main.c&quot;</span><br><span class=\"line\"># 1 &quot;&lt;built-in&gt;&quot;</span><br><span class=\"line\"># 1 &quot;&lt;command-line&gt;&quot;</span><br><span class=\"line\"># 1 &quot;main.c&quot;</span><br><span class=\"line\"># 1 &quot;test.h&quot; 1</span><br><span class=\"line\"></span><br><span class=\"line\">void print_hello();</span><br><span class=\"line\">void print_string(char *s);</span><br><span class=\"line\">double getArea(int r);</span><br><span class=\"line\"># 2 &quot;main.c&quot; 2</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">int main()&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    print_hello();</span><br><span class=\"line\"></span><br><span class=\"line\">    print_hello();</span><br><span class=\"line\"></span><br><span class=\"line\">    print_string(&quot;hello c!&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>可以发现, 预处理操作将定义的宏全部展开, 包含头文件, 去掉注释等 具体的预处理操作详见<a href=\"#ycl\">1.1.1</a></p>\n</blockquote>\n<blockquote>\n<h3 id=\"3-2-编译\"><a href=\"#3-2-编译\" class=\"headerlink\" title=\"3.2 编译\"></a>3.2 编译</h3></blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gcc -S main.c</span><br></pre></td></tr></table></figure>\n<p>编译生成后缀为.s的<a href=\"\\assert\\compiler-linker\\code\\main.s\">汇编代码</a>, 拿出main函数来分析以下</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">_main:</span><br><span class=\"line\">LFB13:</span><br><span class=\"line\">\t.cfi_startproc</span><br><span class=\"line\">\tpushl\t%ebp</span><br><span class=\"line\">\t.cfi_def_cfa_offset 8</span><br><span class=\"line\">\t.cfi_offset 5, -8</span><br><span class=\"line\">\tmovl\t%esp, %ebp</span><br><span class=\"line\">\t.cfi_def_cfa_register 5</span><br><span class=\"line\">\tandl\t$-16, %esp</span><br><span class=\"line\">\tsubl\t$16, %esp</span><br><span class=\"line\">\tcall\t___main</span><br><span class=\"line\">\tcall\t_print_hello      //调用_print_hello函数</span><br><span class=\"line\">\tcall\t_print_hello      //调用_print_hello函数</span><br><span class=\"line\">\tmovl\t$LC3, (%esp)</span><br><span class=\"line\">\tcall\t_print_string     //调用_print_string函数</span><br><span class=\"line\">\tmovl\t$0, %eax</span><br><span class=\"line\">\tleave</span><br><span class=\"line\">\t.cfi_restore 5</span><br><span class=\"line\">\t.cfi_def_cfa 4, 4</span><br><span class=\"line\">\tret</span><br><span class=\"line\">\t.cfi_endproc</span><br></pre></td></tr></table></figure>\n<blockquote>\n<h3 id=\"3-2-汇编\"><a href=\"#3-2-汇编\" class=\"headerlink\" title=\"3.2 汇编\"></a>3.2 汇编</h3><p>汇编生成机器码.o文件, 我们是看不懂的.<br><a href=\"\\assert\\compiler-linker\\code\\main.o\">main.o</a> 和 <a href=\"\\assert\\compiler-linker\\code\\test.o\">test.o</a></p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//对于.c文件</span><br><span class=\"line\">gcc -c main.c</span><br><span class=\"line\">gcc -c test.c</span><br></pre></td></tr></table></figure>\n<blockquote>\n<h3 id=\"3-2-链接\"><a href=\"#3-2-链接\" class=\"headerlink\" title=\"3.2 链接\"></a>3.2 链接</h3><p>对于得到的上一步汇编得到的.o文件我们进行链接.</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gcc -o main main.o</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>这里发现报错了.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">main.o:main.c:(.text+0xf): undefined reference to `print_hello&apos;</span><br><span class=\"line\">main.o:main.c:(.text+0x14): undefined reference to `print_hello&apos;</span><br><span class=\"line\">main.o:main.c:(.text+0x20): undefined reference to `print_string</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<blockquote>\n<p>是因为test.o文件没有打包成我们需要的lib格式文件, 即.a后缀的文件. 进行打包. 打包后的<a href=\"\\assert\\compiler-linker\\code\\test.a\">test.a</a></p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ar -rc test.a test.o</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>再次链接</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gcc -o main main.o ./test.a</span><br></pre></td></tr></table></figure>\n<p>链接成功, 执行main.exe</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hello world!</span><br><span class=\"line\">hello world!</span><br><span class=\"line\">hello c!</span><br></pre></td></tr></table></figure>\n<p>以上就是整个编译链接的过程了, 喜欢的话点个赞.</p>\n<hr>\n<h1 id=\"参考文献\"><a href=\"#参考文献\" class=\"headerlink\" title=\"参考文献\"></a>参考文献</h1><p>[1.] <a href=\"http://blog.51cto.com/7905648/1297255\" target=\"_blank\" rel=\"noopener\">http://blog.51cto.com/7905648/1297255</a><br>[2.] <a href=\"http://www.ruanyifeng.com/blog/2014/11/compiler.html\" target=\"_blank\" rel=\"noopener\">http://www.ruanyifeng.com/blog/2014/11/compiler.html</a><br>[3.] <a href=\"https://blog.csdn.net/shenjianxz/article/details/52130111\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/shenjianxz/article/details/52130111</a><br>[4.] <a href=\"https://zh.wikipedia.org/wiki/C预处理器\" target=\"_blank\" rel=\"noopener\">https://zh.wikipedia.org/wiki/C预处理器</a><br>[5.] <a href=\"https://zh.wikipedia.org/wiki/%E7%9B%AE%E6%A0%87%E4%BB%A3%E7%A0%81\" target=\"_blank\" rel=\"noopener\">https://zh.wikipedia.org/wiki/%E7%9B%AE%E6%A0%87%E4%BB%A3%E7%A0%81</a><br>[6.] <a href=\"https://zh.wikipedia.org/wiki/%E9%93%BE%E6%8E%A5%E5%99%A8\" target=\"_blank\" rel=\"noopener\">https://zh.wikipedia.org/wiki/%E9%93%BE%E6%8E%A5%E5%99%A8</a><br>[7.] <a href=\"https://blog.csdn.net/shaderdx/article/details/49929147\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/shaderdx/article/details/49929147</a></p>\n","comments":true,"excerpt":"","categories":[{"name":"编译链接","slug":"编译链接","permalink":"https://YancyKahn.GitHub.io/categories/编译链接/"}],"tags":[{"name":"编译","slug":"编译","permalink":"https://YancyKahn.GitHub.io/tags/编译/"},{"name":"链接","slug":"链接","permalink":"https://YancyKahn.GitHub.io/tags/链接/"},{"name":"g++","slug":"g","permalink":"https://YancyKahn.GitHub.io/tags/g/"},{"name":"gcc","slug":"gcc","permalink":"https://YancyKahn.GitHub.io/tags/gcc/"}]},{"title":"markdown转pdf","date":"2018-08-24T01:59:50.000Z","path":"2018/08/24/markdown转pdf/","content":"<h1 id=\"Markdown-转化为-PDF-文档\"><a href=\"#Markdown-转化为-PDF-文档\" class=\"headerlink\" title=\"Markdown 转化为 PDF 文档\"></a>Markdown 转化为 PDF 文档</h1><hr>\n<p>虽说markdown文件好用, 但是毕竟比较小众, 这里介绍如何把markdown转化为pdf文档</p>\n<p>主要思想是:</p>\n<center><br><font size=\"4\" color=\"blue\"><br><strong><em>markdown</em></strong>  –&gt;&gt;   <strong><em>html</em></strong>      —&gt;&gt;    <strong><em>pdf</em></strong><br><font><br></font></font></center>\n\n<hr>\n<ol>\n<li><h5> markdown -&gt; html </h5><blockquote>\n<p>相信大家都用过atom这个编辑器吧, atom是github官方提供的编辑器, 界面友好, 功能强大, 插件丰富. <a href=\"https://atom.io/\" target=\"_blank\" rel=\"noopener\">下载链接</a><br><strong>使用markdown-preview插件(自带)</strong><br>打开.md文件, crtl+shift+m 打开markdown-preview, 在打开页面右键, 选择保存为 HTML (save as HTML)<br><img src=\"/assert/markdown/toPdf/1.jpg\" width=\"1200\"><br></p>\n</blockquote>\n</li>\n</ol>\n<hr>\n<ol start=\"2\">\n<li><h5> HTML -&gt; pdf </h5><blockquote>\n<p>使用谷歌浏览器打开刚才生成的HTML文件, 右键选择打印(print), 就可以生成pdf了</p>\n</blockquote>\n</li>\n</ol>\n<hr>\n","comments":true,"excerpt":"","categories":[{"name":"markdown","slug":"markdown","permalink":"https://YancyKahn.GitHub.io/categories/markdown/"}],"tags":[{"name":"markdown","slug":"markdown","permalink":"https://YancyKahn.GitHub.io/tags/markdown/"},{"name":"pdf","slug":"pdf","permalink":"https://YancyKahn.GitHub.io/tags/pdf/"}]},{"title":"shell脚本调试","date":"2018-08-24T01:42:08.000Z","path":"2018/08/24/shell脚本调试/","content":"<h1 id=\"Shell-脚本调试方法\"><a href=\"#Shell-脚本调试方法\" class=\"headerlink\" title=\"Shell 脚本调试方法\"></a>Shell 脚本调试方法</h1><p>我们在使用 <strong>Unix-like</strong> 系统时, shell编程是必不可少的, 在编写shell脚本的时候也不可避免会产生bug, 所以我们就需要学习shell脚本的调试方法.</p>\n<h2 id=\"1-直接调试\"><a href=\"#1-直接调试\" class=\"headerlink\" title=\"1. 直接调试\"></a>1. 直接调试</h2><blockquote>\n<p>何为直接调试, 相信大家在编写c/c++程序调试时候都经常会在程序中加一个 <strong><em>printf</em></strong> 用来输出中间值达到调试的效果. 当然, 在shell脚本调试的时候这种方式也是同样适用的, 我们在程序中添加 <strong><em>echo</em></strong> 达到输出中间值的效果, 这里就不做过多的赘述.<br>如下面这个脚本</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/bin/sh</span><br><span class=\"line\">mkdir file_dir</span><br><span class=\"line\">cd file_dir</span><br><span class=\"line\">for ((i=0;i&lt;10;i++))</span><br><span class=\"line\">do</span><br><span class=\"line\">    file_name=file_$i.txt</span><br><span class=\"line\">    touch $file_name</span><br><span class=\"line\">    echo $file_name</span><br><span class=\"line\">done</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>echo 输出文件名<br><img src=\"/assert/debug/shell/1.jpg\" width=\"1200\"></p>\n</blockquote>\n<p> <br></p>\n<h2 id=\"2-使用-Shell-脚本调试命令调试\"><a href=\"#2-使用-Shell-脚本调试命令调试\" class=\"headerlink\" title=\"2. 使用 Shell 脚本调试命令调试\"></a>2. 使用 Shell 脚本调试命令调试</h2><p>shell 提供了几种调试参数</p>\n<table>\n<thead>\n<tr>\n<th>参数</th>\n<th>说明</th>\n<th>应用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-n</td>\n<td>只读取shell脚本，但不实际执行</td>\n<td>测试shell脚本是否存在语法错误</td>\n</tr>\n<tr>\n<td>-x</td>\n<td>进入跟踪方式，显示所执行的每一条命令</td>\n<td>使shell在执行脚本的过程中把它实际执行的每一个命令行显示出来</td>\n</tr>\n<tr>\n<td>-c</td>\n<td>从strings中读取命令</td>\n<td>临时测试一小段脚本的执行结果</td>\n</tr>\n</tbody>\n</table>\n<p>此命令是执行下叙的调试命令(<a href=\"#jump\">tee</a>)的调试代码加上 -x 参数的结果, 执行每一条命令并打印出来<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[YancyKahn@DESKTOP-VILIJH9~/Program/shell-script]$sh -x test06.sh</span><br><span class=\"line\">+ ifconfig eth0</span><br><span class=\"line\">+ grep inet addr</span><br><span class=\"line\">+ tee iptmp.txt</span><br><span class=\"line\">+ cut -d : -f 3</span><br><span class=\"line\">+ ipaddr=255.255.0.0</span><br><span class=\"line\">+ echo 255.255.0.0</span><br><span class=\"line\">255.255.0.0</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"3-使用-Linux-系统命令调试\"><a href=\"#3-使用-Linux-系统命令调试\" class=\"headerlink\" title=\"3. 使用 Linux 系统命令调试\"></a>3. 使用 Linux 系统命令调试</h2><p>在使用linux系统命令进行调试时, 我们需要更改shell脚本的源代码, 进行调试. 主要思想是在其中加入我们需要输出的信息, 这里主要使用trap和tee命令</p>\n<h3 id=\"1-调试命令\"><a href=\"#1-调试命令\" class=\"headerlink\" title=\"1. 调试命令\"></a>1. 调试命令</h3><blockquote>\n<h3 id=\"1-trap\"><a href=\"#1-trap\" class=\"headerlink\" title=\"1.trap\"></a>1.trap</h3><p><strong><em>参考至文献[<a href=\"https://www.ibm.com/developerworks/cn/linux/l-cn-shell-debug/index.html\" target=\"_blank\" rel=\"noopener\">1.</a>]</em></strong><br><strong><em>参考至文献[<a href=\"http://man.linuxde.net/trap\" target=\"_blank\" rel=\"noopener\">2.</a>]</em></strong><br>trap命令用于指定在接收到信号后将要采取的动作，常见的用途是在脚本程序被中断时完成清理工作。当shell接收到sigspec指定的信号时，arg参数（命令）将会被读取，并被执行。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">trap [-lp] [[arg] sigspec ...]</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p>在调试的时候我们使用trap命令时, 可以将命令简化为:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">trap &apos;command&apos; signal   //command 的引号是必须的</span><br></pre></td></tr></table></figure></p>\n<p>其中, signal 是要捕获的信号, command是捕获到signal后要执行的命令. 我么将trap命令写到 shell 脚本中. 根据捕获到的信号得到输出或者执行某些命令. shell 脚本在执行的过程中会产生伪信号. 何为伪信号, 伪信号是有非系统产生的信号, 即为伪信号, 在这里为 shell 产生的信号</p>\n<p>shell中的伪信号:</p>\n<table>\n<thead>\n<tr>\n<th>信号名</th>\n<th>何时产生</th>\n<th>使用说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>EXIT</td>\n<td>从一个函数中退出或者整个脚本执行结束</td>\n<td>在函数退出或者脚本终止时可以输出想要跟踪的变量值</td>\n</tr>\n<tr>\n<td>ERR</td>\n<td>当一个命令返回非零状态时(命令执行失败)</td>\n<td>追踪运行失败的命令并输出调试信息</td>\n</tr>\n<tr>\n<td>DEBUG</td>\n<td>脚本中的每一条命令执行前</td>\n<td>可以实现相关变量的全程跟踪</td>\n</tr>\n</tbody>\n</table>\n<p><br></p>\n<blockquote>\n<p> 运行实例</p>\n<ol>\n<li>捕获ERR信息</li>\n</ol>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#/bin/sh</span><br><span class=\"line\">NOT_FOUND_ERROR()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    echo &quot;[LINE: $1] Error command not found exited with status $?&quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">foo1()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    return 1;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">foo2()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    return 0;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">trap &apos;NOT_FOUND_ERROR $LINENO&apos; ERR</span><br><span class=\"line\">foo</span><br><span class=\"line\">foo1</span><br><span class=\"line\">foo2</span><br></pre></td></tr></table></figure>\n<p><img src=\"/assert/debug/shell/2.jpg\" width=\"1200\"> </p>\n<blockquote>\n<ol start=\"2\">\n<li>捕获DEBUG信息</li>\n</ol>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/bin/sh</span><br><span class=\"line\">echo &quot;DEBUG BEGIN&quot;</span><br><span class=\"line\">trap &apos;echo [Debug: $LINENO] value d=$d, e=$e, f=$g&apos; DEBUG</span><br><span class=\"line\">a=1</span><br><span class=\"line\">b=2</span><br><span class=\"line\">c=3</span><br><span class=\"line\">for ((i=0;i&lt;5;i++))</span><br><span class=\"line\">do</span><br><span class=\"line\">    d=`expr $d + $a`</span><br><span class=\"line\">    e=`expr $e + $b`</span><br><span class=\"line\">    f=`expr $f + $c`</span><br><span class=\"line\">done</span><br><span class=\"line\">echo &quot;END&quot;</span><br></pre></td></tr></table></figure>\n<p><img src=\"/assert/debug/shell/3.jpg\" width=\"1200\"> </p>\n<p><br></p>\n<blockquote>\n<h3 id=\"2-tee\"><a href=\"#2-tee\" class=\"headerlink\" title=\"2. tee\"></a>2. tee</h3><p>在shell脚本中管道以及输出输出重定向使用很多, 在起作用下一些命令的执行结果可能就成了下一条命令的输入, 因为使用管道和输入输出重定向, 所以中间的输出我们是不可见的. 因为输出不可见所以调试就异常困难, tee命令可以帮助我们很好的去调试这种shell脚本<br>首先我们先复习一下管道和tee命令:<br><strong><em> 1. 管道是Linux中很重要的一种通信方式,是把一个程序的输出直接连接到另一个程序的输入. </em></strong><br><strong><em> 2. tee命令用于将数据重定向到文件，另一方面还可以提供一份重定向数据的副本作为后续命令的stdin。简单的说就是把数据重定向到给定文件和屏幕上. </em></strong></p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls | tee file_name.txt   //把ls命令执行的结果输出在屏幕和file_name.txt文件中</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>tee 调试实例<br>现在有如下脚本想要获得掩码地址<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ipaddr=`ifconfig eth0 | grep &quot;inet addr&quot; | cut &apos; &apos; : -f 3`</span><br><span class=\"line\">echo $ipaddr</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<blockquote>\n<p>输出为<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cut:  : No such file or directory</span><br><span class=\"line\">cut: :: No such file or directory</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<blockquote>\n<p>我们并不知道具体哪里出了错, 在程序中加入tee把数据引流出来, 我们看中间的数据有什么问题<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ipaddr=`ifconfig eth0 | grep &quot;inet addr&quot; | tee iptemp.txt| cut &apos; &apos; : -f 3`</span><br><span class=\"line\">echo $ipaddr</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<blockquote>\n<p>查看中间输出iptemp.txt的数据<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">inet addr:169.254.14.12  Mask:255.255.0.0</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<blockquote>\n<p>我们发现他们中间是以制表符分割的, 所以讲程序改为 <span id=\"jump\"></span><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ipaddr=`ifconfig eth0 | grep &quot;inet addr&quot; | cut -d : -f 3`</span><br><span class=\"line\">echo $ipaddr</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p>正常输出得到掩码地址<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">255.255.0.0</span><br></pre></td></tr></table></figure></p>\n<p><br></p>\n<h2 id=\"4-DEBUG宏调试\"><a href=\"#4-DEBUG宏调试\" class=\"headerlink\" title=\"4. DEBUG宏调试\"></a>4. DEBUG宏调试</h2><p>在c语言中我们经常使用DEBUG宏来进行调试, 在shell脚本同样可以使用相同的思想进行调试<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if [ “$DEBUG” = “true” ]; then</span><br><span class=\"line\">echo “DEBUGGING INFO”  #此处可以输出调试信息</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure></p>\n<hr>\n<h1 id=\"附录\"><a href=\"#附录\" class=\"headerlink\" title=\"附录\"></a>附录</h1><h3 id=\"1-Linux中的奇怪变量的含义\"><a href=\"#1-Linux中的奇怪变量的含义\" class=\"headerlink\" title=\"1. Linux中的奇怪变量的含义\"></a>1. Linux中的奇怪变量的含义</h3><p><strong><em>参考至文献[<a href=\"http://blog.51cto.com/dadekey/119938\" target=\"_blank\" rel=\"noopener\">3.</a>]</em></strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// $# 是传给脚本的参数个数</span><br><span class=\"line\"></span><br><span class=\"line\">// $0 是脚本本身的名字</span><br><span class=\"line\"></span><br><span class=\"line\">// $1 是传递给该shell脚本的第一个参数</span><br><span class=\"line\"></span><br><span class=\"line\">// $2 是传递给该shell脚本的第二个参数</span><br><span class=\"line\"></span><br><span class=\"line\">// $@ 是传给脚本的所有参数的列表</span><br><span class=\"line\"></span><br><span class=\"line\">// $* 是以一个单字符串显示所有向脚本传递的参数，与位置变量不同，参数可超过9个</span><br><span class=\"line\"></span><br><span class=\"line\">// $$ 是脚本运行的当前进程ID号</span><br><span class=\"line\"></span><br><span class=\"line\">// $? 是显示最后命令的退出状态，0表示没有错误，其他表示有错误</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"2-shell-脚本常量\"><a href=\"#2-shell-脚本常量\" class=\"headerlink\" title=\"2. shell 脚本常量\"></a>2. <a href=\"https://blog.csdn.net/a343315623/article/details/51436889\" target=\"_blank\" rel=\"noopener\">shell 脚本常量</a></h3><center><br><font color=\"pink\"><br><strong>愿天堂无BUG</strong><br></font><br></center>\n\n\n<h1 id=\"参考文献\"><a href=\"#参考文献\" class=\"headerlink\" title=\"参考文献\"></a>参考文献</h1><p>[1.] <a href=\"https://www.ibm.com/developerworks/cn/linux/l-cn-shell-debug/index.html\" target=\"_blank\" rel=\"noopener\">https://www.ibm.com/developerworks/cn/linux/l-cn-shell-debug/index.html</a><br>[2.] <a href=\"http://man.linuxde.net/trap\" target=\"_blank\" rel=\"noopener\">http://man.linuxde.net/trap</a><br>[3.] <a href=\"http://blog.51cto.com/dadekey/119938\" target=\"_blank\" rel=\"noopener\">http://blog.51cto.com/dadekey/119938</a><br>[4.] <a href=\"https://blog.csdn.net/a343315623/article/details/51436889\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/a343315623/article/details/51436889</a></p>\n","comments":true,"excerpt":"","categories":[{"name":"debugging","slug":"debugging","permalink":"https://YancyKahn.GitHub.io/categories/debugging/"}],"tags":[{"name":"debugging","slug":"debugging","permalink":"https://YancyKahn.GitHub.io/tags/debugging/"},{"name":"shell","slug":"shell","permalink":"https://YancyKahn.GitHub.io/tags/shell/"}]},{"title":"GDB基础","date":"2018-08-23T08:37:41.000Z","path":"2018/08/23/GDB基础/","content":"<h1 id=\"GDB-调试\"><a href=\"#GDB-调试\" class=\"headerlink\" title=\"GDB 调试\"></a>GDB 调试</h1><hr>\n<p>我们在进行代码创作的时候, 不可避免会产生bug, 即使没有bug. 我们想要知道程序运行过程中的输出或者程序运行的情况, 以便于我们更好的管理程序或者随心所欲的操纵程序, 虽然大多数IDE已经集成的debug的功能, 但是在Bash中我们用vim进行创作, GDB的调试就必不可少, 可以发挥储更强大的功能, GDB虽小, 但是他的功能却是很强大的, 正所谓 “麻雀虽小, 五脏区全”.</p>\n<hr>\n<h2 id=\"何为GDB\"><a href=\"#何为GDB\" class=\"headerlink\" title=\"何为GDB\"></a>何为GDB</h2><p><strong>wikipedia</strong> 如是说:<br><a href=\"https://en.wikipedia.org/wiki/GNU_Debugger\" target=\"_blank\" rel=\"noopener\">The GNU Debugger (GDB)</a>  is a portable debugger that runs on many Unix-like systems and works for many programming languages, including Ada, C, C++, Objective-C, Free Pascal, Fortran, Go, Java[1] and partially others.<br>GDB就是运行在 <strong>Unix-like</strong> 平台上的GUN软件系统的调试器, 也就是说是一个专门进行调试的软件.<br>到目前为止, GDB已经支持以下的语言:</p>\n<blockquote>\n<ul>\n<li>Ada</li>\n<li>Assembly</li>\n<li>C</li>\n<li>C++</li>\n<li>D</li>\n<li>Fortran</li>\n<li>Go</li>\n<li>Objective-C</li>\n<li>OpenCL</li>\n<li>Modula-2</li>\n<li>Pascal</li>\n<li>Rust</li>\n</ul>\n</blockquote>\n<p><a href=\"http://www.gnu.org/software/gdb/\" target=\"_blank\" rel=\"noopener\">GDB官网</a> 在官网中我们可以下载到最新版本的GDB, 并且了解到的最新信息</p>\n<p><a href=\"https://sourceware.org/gdb/onlinedocs/gdb/\" target=\"_blank\" rel=\"noopener\">GDB-toturial</a> GDB调试参考</p>\n<p>一般情况下, GDB可以帮助我们进行一下功能:<br><em>参考至文献[ <a href=\"https://blog.csdn.net/haoel/article/details/2879\" target=\"_blank\" rel=\"noopener\">2.</a>]</em></p>\n<blockquote>\n<ul>\n<li>启动你的程序，可以按照你的自定义的要求随心所欲的运行程序。</li>\n<li>可让被调试的程序在你所指定的调置的断点处停住。（断点可以是条件表达式）</li>\n<li>当程序被停住时，可以检查此时你的程序中所发生的事。</li>\n<li>动态的改变你程序的执行环境。</li>\n</ul>\n</blockquote>\n<hr>\n<h2 id=\"GDB调试\"><a href=\"#GDB调试\" class=\"headerlink\" title=\"GDB调试\"></a>GDB调试</h2><p>在这里我只演示我们平时用的比较多的语言:</p>\n<blockquote>\n<ul>\n<li style=\"list-style: none\"><input type=\"checkbox\"> Ada</li>\n<li style=\"list-style: none\"><input type=\"checkbox\"> Assembly</li>\n<li>[X] C</li>\n<li>[X] C++</li>\n<li style=\"list-style: none\"><input type=\"checkbox\"> D</li>\n<li style=\"list-style: none\"><input type=\"checkbox\"> Fortran</li>\n<li style=\"list-style: none\"><input type=\"checkbox\"> Go</li>\n<li style=\"list-style: none\"><input type=\"checkbox\"> Objective-C</li>\n<li style=\"list-style: none\"><input type=\"checkbox\"> OpenCL</li>\n<li style=\"list-style: none\"><input type=\"checkbox\"> Modula-2</li>\n<li style=\"list-style: none\"><input type=\"checkbox\"> Pascal</li>\n<li style=\"list-style: none\"><input type=\"checkbox\"> Rust</li>\n</ul>\n</blockquote>\n<hr>\n<h4> 1. <strong>GDB 命令介绍</strong> </h4>\n\n<p>调试命令: <strong><em>For C/C++</em></strong></p>\n<blockquote>\n<ol>\n<li>在编译时将调试信息加入到可执行文件中<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// -g 参数将调试信息加入到可执行文件中  -Wall 参数在编译后显示所有警告</span><br><span class=\"line\">gcc -g -Wall helloworld.c</span><br><span class=\"line\">g++ -g -Wall helloworld.cpp</span><br><span class=\"line\">//编译完成后生成 a.exe 文件</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</blockquote>\n<p><img src=\"/assert/debug/gdb/1.jpg\" width=\"1230\"><br><br></p>\n<blockquote>\n<ol start=\"2\">\n<li>通过GDB执行a.exe 文件, 两种执行方式.<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gdb [filename]</span><br><span class=\"line\">gdb</span><br><span class=\"line\">file [filename]</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n</blockquote>\n<p><img src=\"/assert/debug/gdb/2.jpg\" width=\"1230\"><br><br></p>\n<blockquote>\n<ol start=\"3\">\n<li>进行调试<br>调试一般分为以下几个步骤:<ol>\n<li>添加断点</li>\n<li>查看断点信息</li>\n<li>执行调试</li>\n<li>查看调试输出信息</li>\n</ol>\n</li>\n</ol>\n</blockquote>\n<hr>\n<p><br><br>在调试之前, 我先介绍以下GDB调试时候常用的几个命令:<br><br></p>\n<blockquote>\n<table>\n<thead>\n<tr>\n<th>功能</th>\n<th>命令</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>文件清单</td>\n<td>list / l</td>\n</tr>\n<tr>\n<td>执行程序</td>\n<td>run / r</td>\n</tr>\n<tr>\n<td>显示数据</td>\n<td>print / p, whatis</td>\n</tr>\n<tr>\n<td>断点设置</td>\n<td>break / b, info break, clean delete</td>\n</tr>\n<tr>\n<td>单步进入</td>\n<td>next / n, step, finish, until</td>\n</tr>\n<tr>\n<td>文件搜索</td>\n<td>serach</td>\n</tr>\n</tbody>\n</table>\n</blockquote>\n<p><br></p>\n<h4> list </h4>\n\n<p><em>参考至文献[ <a href=\"https://blog.csdn.net/sfeng177/article/details/53014289\" target=\"_blank\" rel=\"noopener\">7.</a>]</em></p>\n<blockquote>\n<p>list 命令用于列出代码, l 与其作用相同<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//list 命令的作用是在控制台上显示代码信息</span><br><span class=\"line\">list (l) 从中间显示前后10行</span><br><span class=\"line\">list + 向后显示10行</span><br><span class=\"line\">list - 向前显示10行</span><br><span class=\"line\">list [line number] 显示line number前后10行</span><br><span class=\"line\">list [function] 显示名为function的函数前后10行</span><br><span class=\"line\">list listsize &lt;count&gt; 设置一次性显示代码行数</span><br><span class=\"line\">show listsize 显示一次性显示行数</span><br><span class=\"line\">list &lt;start&gt;, &lt;end&gt; 显示从start到end行的代码</span><br><span class=\"line\">list , &lt;end&gt; 显示从当前行到end行的代码</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p><img src=\"/assert/debug/gdb/3.jpg\" width=\"1230\"><br><br></p>\n<h4> break </h4>\n\n<p><em>参考至文献[ <a href=\"https://blog.csdn.net/yangzhongxuan/article/details/6897968\" target=\"_blank\" rel=\"noopener\">8.</a>]</em></p>\n<blockquote>\n<p>相关命令有break，tbreak，rbreak,hbreak，thbreak，后两种是基于硬件的，先不介绍。<br>break，tbreak可以根据行号、函数、条件生成断点。tbreak设置方法与break相同，只不过tbreak只在断点停一次，过后会自动将断点删除，break需要手动控制断点的删除和使能。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//break的参数</span><br><span class=\"line\">break linenum 指定行号添加断点</span><br><span class=\"line\">break filename:linenum 指定文件行号条件断点</span><br><span class=\"line\">break function 指定函数添加断点</span><br><span class=\"line\">break filename:function 指定文件函数添加断点</span><br><span class=\"line\">break condition 指定条件添加断点</span><br><span class=\"line\">break *address 指定地址添加断点(可以通过 info add + (变量/函数)获得)</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<blockquote>\n<p>以下为添加break断点的实例(tbreak同理)<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.指定行号: break 10</span><br><span class=\"line\">2.指定文件行号: break test.cpp:10</span><br><span class=\"line\">3.指定函数: break fun</span><br><span class=\"line\">4.指定文件函数: break test.cpp:fun</span><br><span class=\"line\">5.指定条件: break 10 if flag == true</span><br><span class=\"line\">6.指定地址: 通过 info add main 得到地址 0x40148d,  break *0x40148d</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<blockquote>\n<p>rbreak断点<br>rbreak断点的添加方式是 rbreak + <a href=\"http://www.runoob.com/regexp/regexp-syntax.html\" target=\"_blank\" rel=\"noopener\">正则表达式</a><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rbreak fun*   //给所有以fun开头的函数加断点</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<blockquote>\n<p>查看断点信息<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">info break 查看所有断点信息</span><br><span class=\"line\">info break breakpoint 查看第breakpoint个断点的信息</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<blockquote>\n<p>清除与管理断点<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">clean linenum 清除文件中linenum的断点</span><br><span class=\"line\">delete breakpoint 清除编号为breakpoint的断点</span><br><span class=\"line\">disable breakpoint1 禁止断点</span><br><span class=\"line\">enable breakpoint1 允许断点</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p><img src=\"/assert/debug/gdb/4.jpg\" width=\"1230\"><br><br></p>\n<h4>run&amp;next</h4>\n\n<p><em>参考至文献[ <a href=\"https://www.cnblogs.com/qigaohua/p/6077790.html\" target=\"_blank\" rel=\"noopener\">9.</a>]</em></p>\n<blockquote>\n<p>程序执行分为运行和单步运行<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. run 运行准备调试的程序，在它后面可以跟随发给该程序的任何参数，包括标准输入和标准输出说明符(&lt;和&gt;)和shell通配符（*、？、[、]）在内。 如果你使用不带参数的run命令，gdb就再次使用你给予前一条run命令的参数，这是很有用的。</span><br><span class=\"line\">2. set args 修改发送给程序的参数</span><br><span class=\"line\">3. show args 查看其缺省参数的列表。</span><br><span class=\"line\">//单步执行</span><br><span class=\"line\">4. next 不进入的单步执行</span><br><span class=\"line\">5. step 进入的单步执行</span><br><span class=\"line\">6. finish 如果已经进入了某函数，而想退出该函数返回到它的调用函数中，可使用命令finish</span><br><span class=\"line\">7. until 结束当前循环</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p><img src=\"/assert/debug/gdb/5.jpg\" width=\"1230\"><br><br></p>\n<h4>print</h4>\n\n<blockquote>\n<p>利用print命令可以检查各个变量的值, print 是 gdb 的一个功能很强的命令，利用它可以显示被调试的语言中任何有效的表达式。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">print Var  打印出变量Var的值</span><br><span class=\"line\">print fun(x) 打印出函数fun(x)的值</span><br><span class=\"line\">print *obj 打印出某个数据结构或者对象</span><br><span class=\"line\">print $1 ($1为历史记录变量,在以后可以直接引用 $1 的值)</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p><br></p>\n<h4>whatis</h4>\n\n<blockquote>\n<p>查看变量类型<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">whatis Var 打印出Var的类型</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p><img src=\"/assert/debug/gdb/6.jpg\" width=\"1230\"><br><br></p>\n<h4> search </h4>\n\n<blockquote>\n<p>search命令主要是查找文件中的串<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">search text 该命令可显示在当前文件中包含text串的下一行。</span><br><span class=\"line\">reverse-search text 该命令可以显示包含text 的前一行。</span><br></pre></td></tr></table></figure></p>\n</blockquote>\n<p><img src=\"/assert/debug/gdb/7.jpg\" width=\"1230\"><br><br><br><br><br><a href=\"https://www.cnblogs.com/qigaohua/p/6077790.html\" target=\"_blank\" rel=\"noopener\">一篇很好的GDB调试命令总结</a></p>\n<hr>\n<h4> 2. <strong>GDB 调试实例</strong> </h4>\n\n<p>下面的 <strong><em>test01.cpp</em></strong> 通过这个例子, 我们将学到关于GDB调试的基础命令</p>\n<p><em>参考至文献[ <a href=\"https://blog.csdn.net/haoel/article/details/2879\" target=\"_blank\" rel=\"noopener\">2.</a>]</em><br><br><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//test01.cpp</span><br><span class=\"line\">#include &lt;iostream&gt;</span><br><span class=\"line\">#include &lt;cstdio&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">using namespace std;</span><br><span class=\"line\"></span><br><span class=\"line\">int fun(int n)&#123;</span><br><span class=\"line\">    int sum = 0;</span><br><span class=\"line\">    for(int i = 0; i &lt; n; ++i)&#123;</span><br><span class=\"line\">        sum += i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return sum;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">int main()&#123;</span><br><span class=\"line\">    int i = 0;</span><br><span class=\"line\">    int result = 0;</span><br><span class=\"line\">    for(int i = 1; i &lt;= 100; ++i)&#123;</span><br><span class=\"line\">        result += i;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    cout &lt;&lt; &quot;result[1-100] = &quot; &lt;&lt; result &lt;&lt; endl;</span><br><span class=\"line\">    cout &lt;&lt; &quot;result[1-200] = &quot; &lt;&lt; fun(200) &lt;&lt; endl;</span><br><span class=\"line\">    return 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><br><strong><em>GDB实例详解</em></strong><br><br><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PS F:\\Debugging\\GDB&gt; vim .\\test01.cpp           ---&gt;&gt; 创建文件并编辑</span><br><span class=\"line\">PS F:\\Debugging\\GDB&gt; g++ -g -Wall .\\test01.cpp -o test01.exe            ---&gt;&gt; 编译</span><br><span class=\"line\">.\\test01.cpp: In function &apos;int main()&apos;:</span><br><span class=\"line\">.\\test01.cpp:16:9: warning: unused variable &apos;i&apos; [-Wunused-variable]</span><br><span class=\"line\">     int i = 0;             ---&gt;&gt; 输出警告信息</span><br><span class=\"line\">         ^</span><br><span class=\"line\">PS F:\\Debugging\\GDB&gt; gdb .\\test01.exe               ---&gt;&gt; 进行gdb调试</span><br><span class=\"line\">GNU gdb (GDB) 7.6.1</span><br><span class=\"line\">Copyright (C) 2013 Free Software Foundation, Inc.</span><br><span class=\"line\">License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;</span><br><span class=\"line\">This is free software: you are free to change and redistribute it.</span><br><span class=\"line\">There is NO WARRANTY, to the extent permitted by law.  Type &quot;show copying&quot;</span><br><span class=\"line\">and &quot;show warranty&quot; for details.</span><br><span class=\"line\">This GDB was configured as &quot;mingw32&quot;.</span><br><span class=\"line\">For bug reporting instructions, please see:</span><br><span class=\"line\">&lt;http://www.gnu.org/software/gdb/bugs/&gt;...</span><br><span class=\"line\">Reading symbols from F:\\Debugging\\GDB\\test01.exe...done.</span><br><span class=\"line\">(gdb) list                                  ---&gt;&gt; list / l 列出程序代码</span><br><span class=\"line\">7       int fun(int n)&#123;</span><br><span class=\"line\">8           int sum = 0, i = 0;</span><br><span class=\"line\">9           for(i = 0; i &lt; n; ++i)&#123;</span><br><span class=\"line\">10              sum += i;</span><br><span class=\"line\">11          &#125;</span><br><span class=\"line\">12          return sum;</span><br><span class=\"line\">13      &#125;</span><br><span class=\"line\">14</span><br><span class=\"line\">15      int main()&#123;</span><br><span class=\"line\">16          int i = 0;</span><br><span class=\"line\">(gdb)                                       ---&gt;&gt; 继续回车执行上一步的命令</span><br><span class=\"line\">17          int result = 0;</span><br><span class=\"line\">18          for(int i = 1; i &lt;= 100; ++i)&#123;</span><br><span class=\"line\">19              result += i;</span><br><span class=\"line\">20          &#125;</span><br><span class=\"line\">21</span><br><span class=\"line\">22          cout &lt;&lt; &quot;result[1-100] = &quot; &lt;&lt; result &lt;&lt; endl;</span><br><span class=\"line\">23          cout &lt;&lt; &quot;result[1-200] = &quot; &lt;&lt; fun(200) &lt;&lt; endl;</span><br><span class=\"line\">24          return 0;</span><br><span class=\"line\">25      &#125;</span><br><span class=\"line\">(gdb) break 17                              ---&gt;&gt; 在程序第17行设置断点</span><br><span class=\"line\">Breakpoint 1 at 0x4014b2: file .\\test01.cpp, line 17.</span><br><span class=\"line\">(gdb) break fun                             ---&gt;&gt; 对于fun函数设置断点</span><br><span class=\"line\">Breakpoint 2 at 0x401466: file .\\test01.cpp, line 8.</span><br><span class=\"line\">(gdb) info break                            ---&gt;&gt; 输出断点信息</span><br><span class=\"line\">Num     Type           Disp Enb Address    What</span><br><span class=\"line\">1       breakpoint     keep y   0x004014b2 in main() at .\\test01.cpp:17</span><br><span class=\"line\">2       breakpoint     keep y   0x00401466 in fun(int) at .\\test01.cpp:8</span><br><span class=\"line\">(gdb) run                                   ---&gt;&gt; 运行程序</span><br><span class=\"line\">Starting program: F:\\Debugging\\GDB/.\\test01.exe</span><br><span class=\"line\">[New Thread 14936.0x19a8]</span><br><span class=\"line\">[New Thread 14936.0x3a9c]</span><br><span class=\"line\">[New Thread 14936.0x28d8]</span><br><span class=\"line\"></span><br><span class=\"line\">Breakpoint 1, main () at .\\test01.cpp:17</span><br><span class=\"line\">17          int result = 0;</span><br><span class=\"line\">(gdb) n                                     ---&gt;&gt; next / n 单步运行</span><br><span class=\"line\">18          for(int i = 1; i &lt;= 100; ++i)&#123;</span><br><span class=\"line\">(gdb) n</span><br><span class=\"line\">19              result += i;</span><br><span class=\"line\">(gdb) n</span><br><span class=\"line\">18          for(int i = 1; i &lt;= 100; ++i)&#123;</span><br><span class=\"line\">(gdb) c                                     ---&gt;&gt; continue / c 继续运行</span><br><span class=\"line\">Continuing.</span><br><span class=\"line\">result[1-100] = 5050                        ---&gt;&gt; 输出信息</span><br><span class=\"line\"></span><br><span class=\"line\">Breakpoint 2, fun (n=200) at .\\test01.cpp:8</span><br><span class=\"line\">8           int sum = 0, i = 0;</span><br><span class=\"line\">(gdb) print i                               ---&gt;&gt; 打印i</span><br><span class=\"line\">$1 = 4201120</span><br><span class=\"line\">(gdb) n</span><br><span class=\"line\">9           for(i = 0; i &lt; n; ++i)&#123;</span><br><span class=\"line\">(gdb) n</span><br><span class=\"line\">10              sum += i;</span><br><span class=\"line\">(gdb) print sum</span><br><span class=\"line\">$2 = 0</span><br><span class=\"line\">(gdb) n</span><br><span class=\"line\">9           for(i = 0; i &lt; n; ++i)&#123;</span><br><span class=\"line\">(gdb) print sum</span><br><span class=\"line\">$3 = 0</span><br><span class=\"line\">(gdb) n</span><br><span class=\"line\">10              sum += i;</span><br><span class=\"line\">(gdb) n</span><br><span class=\"line\">9           for(i = 0; i &lt; n; ++i)&#123;</span><br><span class=\"line\">(gdb) print sum                             ---&gt;&gt; 打印sum</span><br><span class=\"line\">$4 = 1</span><br><span class=\"line\">(gdb) bt                                    ---&gt;&gt; 输出栈信息</span><br><span class=\"line\">#0  fun (n=200) at .\\test01.cpp:9   </span><br><span class=\"line\">#1  0x00401515 in _fu0___ZSt4cout () at .\\test01.cpp:23</span><br><span class=\"line\">(gdb) finish                                ---&gt;&gt; 结束函数</span><br><span class=\"line\">Run till exit from #0  fun (n=200) at .\\test01.cpp:9</span><br><span class=\"line\">0x00401515 in _fu0___ZSt4cout () at .\\test01.cpp:23</span><br><span class=\"line\">23          cout &lt;&lt; &quot;result[1-200] = &quot; &lt;&lt; fun(200) &lt;&lt; endl;</span><br><span class=\"line\">Value returned is $5 = 19900</span><br><span class=\"line\">(gdb) c                                     ---&gt;&gt; 继续运行</span><br><span class=\"line\">Continuing.</span><br><span class=\"line\">result[1-200] = 19900</span><br><span class=\"line\">[Inferior 1 (process 14936) exited normally]</span><br><span class=\"line\">(gdb) quit                                  ---&gt;&gt; 运行结束, 退出gdb</span><br><span class=\"line\">PS F:\\Debugging\\GDB&gt;</span><br></pre></td></tr></table></figure></p>\n<p>GDB调试的大致也就这么多, 灵活运用可以让让自己对程序的操作行云流水, 做到对自己的程序能随心所欲的控制.</p>\n<center><br><font color=\"pink\"><br><strong>愿天堂无BUG</strong><br></font><br></center>\n\n<h3 id=\"参考文献\"><a href=\"#参考文献\" class=\"headerlink\" title=\"参考文献\"></a>参考文献</h3><p>[1.] <a href=\"https://en.wikipedia.org/wiki/GNU_Debugger\" target=\"_blank\" rel=\"noopener\">https://en.wikipedia.org/wiki/GNU_Debugger</a><br>[2.] <a href=\"https://blog.csdn.net/haoel/article/details/2879\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/haoel/article/details/2879</a><br>[3.] <a href=\"https://sourceware.org/gdb/onlinedocs/gdb/\" target=\"_blank\" rel=\"noopener\">https://sourceware.org/gdb/onlinedocs/gdb/</a><br>[4.] <a href=\"http://www.gnu.org/software/gdb/\" target=\"_blank\" rel=\"noopener\">http://www.gnu.org/software/gdb/</a><br>[5.]<a href=\"http://wiki.ubuntu.org.cn/%E7%94%A8GDB%E8%B0%83%E8%AF%95%E7%A8%8B%E5%BA%8F\" target=\"_blank\" rel=\"noopener\">http://wiki.ubuntu.org.cn/%E7%94%A8GDB%E8%B0%83%E8%AF%95%E7%A8%8B%E5%BA%8F</a><br>[6.] <a href=\"https://blog.csdn.net/fuqiangnxn/article/details/54140155\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/fuqiangnxn/article/details/54140155</a><br>[7.] <a href=\"https://blog.csdn.net/sfeng177/article/details/53014289\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/sfeng177/article/details/53014289</a><br>[8.] <a href=\"https://blog.csdn.net/yangzhongxuan/article/details/6897968\" target=\"_blank\" rel=\"noopener\">https://blog.csdn.net/yangzhongxuan/article/details/6897968</a><br>[9.] <a href=\"https://www.cnblogs.com/qigaohua/p/6077790.html\" target=\"_blank\" rel=\"noopener\">https://www.cnblogs.com/qigaohua/p/6077790.html</a></p>\n","comments":true,"excerpt":"","categories":[{"name":"debugging","slug":"debugging","permalink":"https://YancyKahn.GitHub.io/categories/debugging/"}],"tags":[{"name":"debugging","slug":"debugging","permalink":"https://YancyKahn.GitHub.io/tags/debugging/"},{"name":"gdb","slug":"gdb","permalink":"https://YancyKahn.GitHub.io/tags/gdb/"}]},{"title":".vimrc","date":"2018-08-23T07:59:10.000Z","path":"2018/08/23/vimrc/","content":"<h1 id=\"一个优雅的vim配置\"><a href=\"#一个优雅的vim配置\" class=\"headerlink\" title=\"一个优雅的vim配置\"></a>一个优雅的vim配置</h1><h3 id=\"集成功能\"><a href=\"#集成功能\" class=\"headerlink\" title=\"集成功能\"></a><strong>集成功能</strong></h3><blockquote>\n<ul>\n<li><strong>F6 = c/c++文件编译运行</strong></li>\n<li><strong>F2 = 显示头信息</strong></li>\n<li><strong>F5 = 一键生成c++头文件</strong></li>\n<li><strong>自动补全括号</strong></li>\n<li><strong>代码智能对齐</strong></li>\n</ul>\n</blockquote>\n<h3 id=\"vim配置的repo\"><a href=\"#vim配置的repo\" class=\"headerlink\" title=\"vim配置的repo\"></a>vim配置的repo</h3><p><a href=\"https://github.com/YancyKahn/Beautiful-VIM\" target=\"_blank\" rel=\"noopener\">Beautiful-vim</a></p>\n<h3 id=\"效果图\"><a href=\"#效果图\" class=\"headerlink\" title=\"效果图\"></a>效果图</h3><p><img src=\"/assert/vimrc/vimrc.jpg\" alt=\"vimrc效果图\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;set number</span><br><span class=\"line\">set nu</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;set tab width 4</span><br><span class=\"line\">set tabstop=4</span><br><span class=\"line\">set expandtab</span><br><span class=\"line\">set shiftwidth=4</span><br><span class=\"line\">set smarttab</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;c indnet</span><br><span class=\"line\">set cindent</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;smart indent</span><br><span class=\"line\">set smartindent</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;auto indent</span><br><span class=\"line\">set autoindent</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;ruler</span><br><span class=\"line\">set ruler</span><br><span class=\"line\">&quot;colorscheme peachpuff</span><br><span class=\"line\">&quot;colorscheme default</span><br><span class=\"line\">&quot;colorscheme koehler</span><br><span class=\"line\">&quot;colorscheme desert</span><br><span class=\"line\">&quot;colorscheme morning</span><br><span class=\"line\">&quot;colorscheme pablo</span><br><span class=\"line\">&quot;remove vi</span><br><span class=\"line\"></span><br><span class=\"line\">set nocompatible</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;set last status</span><br><span class=\"line\">set laststatus=2</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;mouse enable</span><br><span class=\"line\">set mouse=a</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;no backup</span><br><span class=\"line\">set nobackup</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;set size</span><br><span class=\"line\">set lines=46</span><br><span class=\"line\">set columns=90</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;syntax on</span><br><span class=\"line\">syntax on</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;set backspace</span><br><span class=\"line\">set backspace=indent,eol,start</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;keymap</span><br><span class=\"line\">&quot;auto</span><br><span class=\"line\">inoremap &apos; &apos;&apos;&lt;ESC&gt;i</span><br><span class=\"line\">inoremap &quot; &quot;&quot;&lt;ESC&gt;i</span><br><span class=\"line\">&quot;inoremap &lt; &lt;&gt;&lt;ESC&gt;i</span><br><span class=\"line\">inoremap &#123; &#123;&lt;CR&gt;&#125;&lt;ESC&gt;i</span><br><span class=\"line\">inoremap ( ()&lt;ESC&gt;i</span><br><span class=\"line\">inoremap [ []&lt;ESC&gt;i</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;share clipboard</span><br><span class=\"line\">set clipboard+=unnamed</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;Lang &amp; Enconding</span><br><span class=\"line\">set fileencodings=utf-8,gbk2312,gbk,gb18030,cp936</span><br><span class=\"line\">set encoding=utf-8</span><br><span class=\"line\">set langmenu=zh_CN</span><br><span class=\"line\"></span><br><span class=\"line\">&quot;Function</span><br><span class=\"line\">&quot;compileRunCPP</span><br><span class=\"line\">map &lt;F6&gt; :call CompileRunCPP()&lt;cr&gt;</span><br><span class=\"line\">func! CompileRunCPP()</span><br><span class=\"line\">    exec &quot;w&quot;</span><br><span class=\"line\">    exec &quot;!g++ -g2 % -o %&lt;&quot;</span><br><span class=\"line\">    exec &quot;!./%&lt;&quot;</span><br><span class=\"line\">endfun</span><br><span class=\"line\">&quot;setInfo</span><br><span class=\"line\">if !exists(&quot;*SetTitlea&quot;)</span><br><span class=\"line\">map &lt;F2&gt; :call SetInfo()&lt;CR&gt;</span><br><span class=\"line\">func SetInfo()</span><br><span class=\"line\">let l = 0</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;/************************************************&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos; *Author*        : YancyKahn&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos; *Created Time*  : &apos;.strftime(&apos;%c&apos;))</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;**Problem**:&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;**Analyse**:&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;**Get**:&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;**Code**:&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;*********************************************/&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;&apos;)</span><br><span class=\"line\">endfunc</span><br><span class=\"line\">endif</span><br><span class=\"line\">&quot;setCode</span><br><span class=\"line\">if !exists(&quot;*SetTitlea&quot;)</span><br><span class=\"line\">map &lt;F5&gt; :call SetCode()&lt;CR&gt;</span><br><span class=\"line\">func SetCode()</span><br><span class=\"line\">let l = 10</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#include &lt;cstdio&gt;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#include &lt;cstring&gt;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#include &lt;iostream&gt;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#include &lt;algorithm&gt;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#include &lt;vector&gt;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#include &lt;queue&gt;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#include &lt;set&gt;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#include &lt;map&gt;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#include &lt;string&gt;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#include &lt;cmath&gt;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#include &lt;cstdlib&gt;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#include &lt;ctime&gt;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#include &lt;stack&gt;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;using namespace std;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;typedef pair&lt;int, int&gt; pii;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;typedef long long ll;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;typedef unsigned long long ull;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;typedef vector&lt;int&gt; vi;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#define pr(x) cout &lt;&lt; #x &lt;&lt; &quot;: &quot; &lt;&lt; x &lt;&lt; &quot;  &quot; &apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#define pl(x) cout &lt;&lt; #x &lt;&lt; &quot;: &quot; &lt;&lt; x &lt;&lt; endl;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#define pri(a) printf(&quot;%d\\n&quot;,(a))&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#define xx first&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#define yy second&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#define sa(n) scanf(&quot;%d&quot;, &amp;(n))&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#define sal(n) scanf(&quot;%lld&quot;, &amp;(n))&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#define sai(n) scanf(&quot;%I64d&quot;, &amp;(n))&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#define vep(c) for(decltype((c).begin() ) it = (c).begin(); it != (c).end(); it++) &apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;const int mod = int(1e9) + 7, INF = 0x3f3f3f3f;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;const int maxn = 1e5 + 13;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;int main(void)&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;&#123;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#ifdef LOCAL&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;    //freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin);&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;    //freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout);&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;#endif&apos;)</span><br><span class=\"line\">&quot; let l = l + 1 | call setline(l,&apos;    ios_base::sync_with_stdio(false),cin.tie(0),cout.tie(0);&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;    &apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;    return 0;&apos;)</span><br><span class=\"line\">let l = l + 1 | call setline(l,&apos;&#125;&apos;)</span><br><span class=\"line\">endfunc</span><br><span class=\"line\">endif</span><br></pre></td></tr></table></figure>\n","comments":true,"excerpt":"","categories":[{"name":"vim","slug":"vim","permalink":"https://YancyKahn.GitHub.io/categories/vim/"},{"name":"configure","slug":"vim/configure","permalink":"https://YancyKahn.GitHub.io/categories/vim/configure/"}],"tags":[{"name":"vim","slug":"vim","permalink":"https://YancyKahn.GitHub.io/tags/vim/"},{"name":"configure","slug":"configure","permalink":"https://YancyKahn.GitHub.io/tags/configure/"}]},{"title":"CF805D","date":"2018-08-23T06:50:18.000Z","path":"2018/08/23/CF805D/","content":"<h1 id=\"CodeForces-805-D\"><a href=\"#CodeForces-805-D\" class=\"headerlink\" title=\"CodeForces 805 D\"></a>CodeForces 805 D</h1><blockquote>\n<p>题目大意:<br>如果有[ab], 那么就转化为[bba], 问最少需要多少次转化(MOD 1e9+7)<br>分析:<br>    b前每有一个a都要多进行两倍的转化操作, 因为每次转化都会多生成一个b, 这个b还要与后面的a进行转化操作, 所以就相当于进行2倍的操作</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;iostream&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">using namespace std;</span><br><span class=\"line\"></span><br><span class=\"line\">typedef long long ll;</span><br><span class=\"line\">const int MAXN = 1e6 + 10;</span><br><span class=\"line\">const ll MOD = 1e9 + 7;</span><br><span class=\"line\">int main() &#123;</span><br><span class=\"line\">  string s;</span><br><span class=\"line\">  while (cin &gt;&gt; s) &#123;</span><br><span class=\"line\">    ll sum = 0;</span><br><span class=\"line\">    int len = s.length();</span><br><span class=\"line\">    int x = 0;</span><br><span class=\"line\">    for (int i = len - 1; i &gt;= 0; --i) &#123;</span><br><span class=\"line\">      if (s[i] == &apos;b&apos;) &#123;</span><br><span class=\"line\">        x++;</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        sum += x;</span><br><span class=\"line\">        sum %= MOD;</span><br><span class=\"line\">        x *= 2;</span><br><span class=\"line\">        x %= MOD;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    cout &lt;&lt; sum &lt;&lt; endl;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  return 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","comments":true,"excerpt":"","categories":[{"name":"CodeForces","slug":"CodeForces","permalink":"https://YancyKahn.GitHub.io/categories/CodeForces/"}],"tags":[{"name":"CodeForces","slug":"CodeForces","permalink":"https://YancyKahn.GitHub.io/tags/CodeForces/"}]},{"title":"markdown-toturial","date":"2018-08-23T01:03:23.000Z","path":"2018/08/23/markdown-toturial/","content":"<blockquote>\n<h1 id=\"Markdown-教程汇总\"><a href=\"#Markdown-教程汇总\" class=\"headerlink\" title=\"Markdown 教程汇总\"></a>Markdown 教程汇总</h1></blockquote>\n<h3 id=\"系统教程\"><a href=\"#系统教程\" class=\"headerlink\" title=\"系统教程\"></a>系统教程</h3><blockquote>\n<ul>\n<li><strong><a href=\"https://www.zybuluo.com/mdeditor\" target=\"_blank\" rel=\"noopener\">Cmd Markdown</a></strong></li>\n<li><strong><a href=\"https://www.w3cschool.cn/lme/\" target=\"_blank\" rel=\"noopener\">W3C School</a></strong></li>\n<li><strong><a href=\"https://segmentfault.com/markdown\" target=\"_blank\" rel=\"noopener\">SegmentFualt</a></strong></li>\n</ul>\n</blockquote>\n<h3 id=\"数学公式\"><a href=\"#数学公式\" class=\"headerlink\" title=\"数学公式\"></a>数学公式</h3><blockquote>\n<ul>\n<li><strong><a href=\"http://www.mohu.org/info/symbols/symbols.htm\" target=\"_blank\" rel=\"noopener\">常用数学符号的 LaTeX 表示方法</a></strong></li>\n<li><strong><a href=\"https://www.jianshu.com/p/888c5eaebabd\" target=\"_blank\" rel=\"noopener\">markdown中插入数学公式</a></strong></li>\n</ul>\n</blockquote>\n","comments":true,"excerpt":"","categories":[{"name":"markdown","slug":"markdown","permalink":"https://YancyKahn.GitHub.io/categories/markdown/"}],"tags":[{"name":"markdown","slug":"markdown","permalink":"https://YancyKahn.GitHub.io/tags/markdown/"},{"name":"toturial","slug":"toturial","permalink":"https://YancyKahn.GitHub.io/tags/toturial/"}]},{"title":"CF805C","date":"2018-08-23T00:54:25.000Z","path":"2018/08/23/CF805C/","content":"<h1 id=\"CodeForces-805-C\"><a href=\"#CodeForces-805-C\" class=\"headerlink\" title=\"CodeForces 805 C\"></a>CodeForces 805 C</h1><blockquote>\n<p>题目大意:<br>        有[1, n]个学校, 从学校i到j的花费为 (i + j)%(1 + n), 要求经过所有的学校花费最小.<br>        那么可以这样走:<br>        当n = 5<br>        i   j   cost<br>        1   5   0<br>        5   2   1<br>        2   4   0<br>        4   3   1<br>        可以得到公式<br>        (n + 1)/2 - 1</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;cstdio&gt;</span><br><span class=\"line\">#include &lt;iostream&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">using namespace std;</span><br><span class=\"line\"></span><br><span class=\"line\">int main() &#123;</span><br><span class=\"line\">  int n;</span><br><span class=\"line\">  while (cin &gt;&gt; n) &#123;</span><br><span class=\"line\">    cout &lt;&lt; (n + 1) / 2 - 1 &lt;&lt; endl;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  return 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","comments":true,"excerpt":"","categories":[{"name":"CodeForces","slug":"CodeForces","permalink":"https://YancyKahn.GitHub.io/categories/CodeForces/"}],"tags":[{"name":"CodeForces","slug":"CodeForces","permalink":"https://YancyKahn.GitHub.io/tags/CodeForces/"},{"name":"思维","slug":"思维","permalink":"https://YancyKahn.GitHub.io/tags/思维/"},{"name":"水题","slug":"水题","permalink":"https://YancyKahn.GitHub.io/tags/水题/"}]},{"title":"CF805B","date":"2018-08-22T16:12:45.000Z","path":"2018/08/23/CF805B/","content":"<h1 id=\"CodeForces-805-B\"><a href=\"#CodeForces-805-B\" class=\"headerlink\" title=\"CodeForces 805 B\"></a>CodeForces 805 B</h1><p><div></div></p>\n<blockquote>\n<p>这道题其实挺好想到的, 首先不能是三个字符构成的回文, 并且要保证字符’c’的数量尽可能的少 <br><br>那么构成的字符串是这样的</p>\n</blockquote>\n<pre><code>a\naa\naab\naabb\naabba\naabbaa\naabbaab\naabbaabb\n</code></pre><blockquote>\n<p>所以只要满足只有ab组成的字符串并且没有数量为3的回文ֻ</p>\n</blockquote>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;iostream&gt;</span><br><span class=\"line\">#include &lt;string&gt;</span><br><span class=\"line\">using namespace std;</span><br><span class=\"line\"></span><br><span class=\"line\">int main() &#123;</span><br><span class=\"line\">  int n;</span><br><span class=\"line\">  string s;</span><br><span class=\"line\">  while (cin &gt;&gt; n) &#123;</span><br><span class=\"line\">    s = &quot;&quot;;</span><br><span class=\"line\">    bool flag = 1, flag2 = n % 2;</span><br><span class=\"line\">    n -= flag2;</span><br><span class=\"line\">    for (int i = 0; i &lt; n; i += 2) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      if (flag)</span><br><span class=\"line\">        s += &quot;aa&quot;;</span><br><span class=\"line\">      else</span><br><span class=\"line\">        s += &quot;bb&quot;;</span><br><span class=\"line\">      flag = !flag;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (flag2) &#123;</span><br><span class=\"line\">      if (flag)</span><br><span class=\"line\">        s += &quot;a&quot;;</span><br><span class=\"line\">      else</span><br><span class=\"line\">        s += &quot;b&quot;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    cout &lt;&lt; s &lt;&lt; endl;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  return 0;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/*</span><br><span class=\"line\">a</span><br><span class=\"line\">aa</span><br><span class=\"line\">aab</span><br><span class=\"line\">aabb</span><br><span class=\"line\">aabba</span><br><span class=\"line\">aabbaa</span><br><span class=\"line\">aabbaab</span><br><span class=\"line\">aabbaabb</span><br><span class=\"line\">*/</span><br></pre></td></tr></table></figure></p>\n","comments":true,"excerpt":"","categories":[{"name":"CodeForces","slug":"CodeForces","permalink":"https://YancyKahn.GitHub.io/categories/CodeForces/"},{"name":"string","slug":"CodeForces/string","permalink":"https://YancyKahn.GitHub.io/categories/CodeForces/string/"}],"tags":[{"name":"CodeForces","slug":"CodeForces","permalink":"https://YancyKahn.GitHub.io/tags/CodeForces/"},{"name":"string","slug":"string","permalink":"https://YancyKahn.GitHub.io/tags/string/"},{"name":"回文","slug":"回文","permalink":"https://YancyKahn.GitHub.io/tags/回文/"},{"name":"思维","slug":"思维","permalink":"https://YancyKahn.GitHub.io/tags/思维/"}]},{"title":"CF805A","date":"2018-08-22T15:59:57.000Z","path":"2018/08/22/CF805A/","content":"<h1 id=\"CodeForces-805-A\"><a href=\"#CodeForces-805-A\" class=\"headerlink\" title=\"CodeForces 805 A\"></a>CodeForces 805 A</h1><blockquote>\n<p> 一道水题, 很好想到</p>\n<ul>\n<li>if l == r: <br><pre><code>ans = l\n</code></pre></li>\n<li>else: <br><pre><code>ans = 2\n</code></pre></li>\n</ul>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;cstdio&gt;</span><br><span class=\"line\">#include &lt;iostream&gt;</span><br><span class=\"line\">using namespace std;</span><br><span class=\"line\">typedef long long ll;</span><br><span class=\"line\">int main() &#123;</span><br><span class=\"line\">  ll a, b;</span><br><span class=\"line\">  while (cin &gt;&gt; a &gt;&gt; b) &#123;</span><br><span class=\"line\">    printf(&quot;%lld\\n&quot;, a == b ? a : 2);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  return 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","comments":true,"excerpt":"","categories":[{"name":"CodeForces","slug":"CodeForces","permalink":"https://YancyKahn.GitHub.io/categories/CodeForces/"}],"tags":[{"name":"CodeForces","slug":"CodeForces","permalink":"https://YancyKahn.GitHub.io/tags/CodeForces/"},{"name":"水题","slug":"水题","permalink":"https://YancyKahn.GitHub.io/tags/水题/"}]},{"title":"c++-HelloWorld","date":"2018-08-22T15:35:32.000Z","path":"2018/08/22/c-HelloWorld/","content":"<h1 id=\"Hello-World-For-C\"><a href=\"#Hello-World-For-C\" class=\"headerlink\" title=\"Hello World For C++\"></a>Hello World For C++</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;iostream&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">using namespace std;</span><br><span class=\"line\"></span><br><span class=\"line\">int main()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    cout &lt;&lt; &quot;hello world&quot; &lt;&lt; endl;</span><br><span class=\"line\">    return 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","comments":true,"excerpt":"","categories":[{"name":"C++","slug":"C","permalink":"https://YancyKahn.GitHub.io/categories/C/"}],"tags":[{"name":"helloworld","slug":"helloworld","permalink":"https://YancyKahn.GitHub.io/tags/helloworld/"}]},{"title":"Python-helloWorld","date":"2018-08-22T14:27:51.000Z","path":"2018/08/22/Python-helloWorld/","content":"<h1 id=\"Hello-World-For-Python\"><a href=\"#Hello-World-For-Python\" class=\"headerlink\" title=\"Hello World For Python\"></a>Hello World For Python</h1><h3 id=\"Python-3\"><a href=\"#Python-3\" class=\"headerlink\" title=\"Python 3\"></a>Python 3</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">print(&quot;hello world1&quot;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"Python-2\"><a href=\"#Python-2\" class=\"headerlink\" title=\"Python 2\"></a>Python 2</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">print &quot;hello world!&quot;</span><br></pre></td></tr></table></figure>\n","comments":true,"excerpt":"","categories":[{"name":"Python","slug":"Python","permalink":"https://YancyKahn.GitHub.io/categories/Python/"}],"tags":[{"name":"helloworld","slug":"helloworld","permalink":"https://YancyKahn.GitHub.io/tags/helloworld/"}]}]